{
	"info": {
		"_postman_id": "12345678-1234-1234-1234-123456789abc",
		"name": "HHAI Chat Rooms API",
		"description": "API collection for retrieving room IDs and chat messages from the HHAI Pair Programming application",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "12345678"
	},
	"item": [
		{
			"name": "Get All Room IDs",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/rooms",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"rooms"
					],
					"query": []
				},
				"description": "Get a list of all distinct room IDs from chat messages"
			},
			"response": []
		},
		{
			"name": "Get Room IDs with Statistics",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/rooms?include_stats=true&limit=50",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"rooms"
					],
					"query": [
						{
							"key": "include_stats",
							"value": "true",
							"description": "Include message count and latest timestamp for each room"
						},
						{
							"key": "limit",
							"value": "50",
							"description": "Limit the number of room IDs returned"
						}
					]
				},
				"description": "Get room IDs with additional statistics including message count and latest message timestamp"
			},
			"response": []
		},
		{
			"name": "Get Messages by Room ID",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/rooms/{{room_id}}/messages",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"rooms",
						"{{room_id}}",
						"messages"
					],
					"query": []
				},
				"description": "Get all chat messages for a specific room ID"
			},
			"response": []
		},
		{
			"name": "Get Messages by Room ID (with filters)",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/rooms/{{room_id}}/messages?limit=20&skip=0&include_ai=false",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"rooms",
						"{{room_id}}",
						"messages"
					],
					"query": [
						{
							"key": "limit",
							"value": "20",
							"description": "Number of messages to return"
						},
						{
							"key": "skip",
							"value": "0",
							"description": "Number of messages to skip (for pagination)"
						},
						{
							"key": "include_ai",
							"value": "false",
							"description": "Set to false to exclude AI messages"
						}
					]
				},
				"description": "Get chat messages for a specific room with pagination and filtering options"
			},
			"response": []
		},
		{
			"name": "Get Room Messages (Human Only)",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/rooms/{{room_id}}/messages?include_ai=false&limit=100",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"rooms",
						"{{room_id}}",
						"messages"
					],
					"query": [
						{
							"key": "include_ai",
							"value": "false",
							"description": "Exclude AI messages, only show human messages"
						},
						{
							"key": "limit",
							"value": "100",
							"description": "Get up to 100 messages"
						}
					]
				},
				"description": "Get only human messages (excluding AI messages) for a specific room"
			},
			"response": []
		},
		{
			"name": "Get Messages by Room Prefix",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/rooms/prefix/{{room_prefix}}/messages?order_by=timestamp&order_direction=desc",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"rooms",
						"prefix",
						"{{room_prefix}}",
						"messages"
					],
					"query": [
						{
							"key": "order_by",
							"value": "timestamp",
							"description": "Field to order by (timestamp, message_number, username)"
						},
						{
							"key": "order_direction",
							"value": "desc",
							"description": "Order direction: desc (newest first) or asc (oldest first)"
						}
					]
				},
				"description": "Get all messages from rooms that start with a specific prefix, ordered by timestamp across all rooms"
			},
			"response": []
		},
		{
			"name": "Get Messages by Room Prefix (Grouped)",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/rooms/prefix/{{room_prefix}}/messages?group_by_room=true&include_ai=false&limit=50&order_by=timestamp&order_direction=desc",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"rooms",
						"prefix",
						"{{room_prefix}}",
						"messages"
					],
					"query": [
						{
							"key": "group_by_room",
							"value": "true",
							"description": "Group messages by room ID"
						},
						{
							"key": "include_ai",
							"value": "false",
							"description": "Exclude AI messages"
						},
						{
							"key": "limit",
							"value": "50",
							"description": "Limit messages per room"
						},
						{
							"key": "order_by",
							"value": "timestamp",
							"description": "Field to order by (timestamp, message_number, username)"
						},
						{
							"key": "order_direction",
							"value": "desc",
							"description": "Order direction: desc or asc"
						}
					]
				},
				"description": "Get messages from rooms with specific prefix, grouped by room ID, each room ordered by timestamp"
			},
			"response": []
		},
		{
			"name": "Get Study5Personal Messages (Example)",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/rooms/prefix/study5personal/messages?group_by_room=false&include_ai=false&order_by=timestamp&order_direction=desc&limit=100",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"rooms",
						"prefix",
						"study5personal",
						"messages"
					],
					"query": [
						{
							"key": "group_by_room",
							"value": "false",
							"description": "Get flat list ordered by timestamp across all rooms"
						},
						{
							"key": "include_ai",
							"value": "false",
							"description": "Exclude AI messages, only human messages"
						},
						{
							"key": "order_by",
							"value": "timestamp",
							"description": "Order by timestamp for chronological view"
						},
						{
							"key": "order_direction",
							"value": "desc",
							"description": "Newest messages first"
						},
						{
							"key": "limit",
							"value": "100",
							"description": "Get up to 100 messages"
						}
					]
				},
				"description": "Example: Get all human messages from rooms starting with 'study5personal', ordered by timestamp (chronological across all rooms)"
			},
			"response": []
		},
		{
			"name": "Get Study5Personal Messages (Chronological - Oldest First)",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/rooms/prefix/study5personal/messages?group_by_room=false&include_ai=false&order_by=timestamp&order_direction=asc&limit=100",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"rooms",
						"prefix",
						"study5personal",
						"messages"
					],
					"query": [
						{
							"key": "group_by_room",
							"value": "false",
							"description": "Get flat list ordered by timestamp across all rooms"
						},
						{
							"key": "include_ai",
							"value": "false",
							"description": "Exclude AI messages, only human messages"
						},
						{
							"key": "order_by",
							"value": "timestamp",
							"description": "Order by timestamp for chronological view"
						},
						{
							"key": "order_direction",
							"value": "asc",
							"description": "Oldest messages first"
						},
						{
							"key": "limit",
							"value": "100",
							"description": "Get up to 100 messages"
						}
					]
				},
				"description": "Example: Get all human messages from rooms starting with 'study5personal', ordered chronologically from oldest to newest across all rooms"
			},
			"response": []
		},
		{
			"name": "Get AI Messages Only (by Room ID)",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/rooms/{{room_id}}/messages?only_ai=true&limit=50",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"rooms",
						"{{room_id}}",
						"messages"
					],
					"query": [
						{
							"key": "only_ai",
							"value": "true",
							"description": "Get only AI messages (is_ai_message=true)"
						},
						{
							"key": "limit",
							"value": "50",
							"description": "Limit number of AI messages returned"
						}
					]
				},
				"description": "Get only AI-generated messages for a specific room ID"
			},
			"response": []
		},
		{
			"name": "Get AI Messages Only (by Room Prefix)",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/rooms/prefix/{{room_prefix}}/messages?only_ai=true&order_by=timestamp&order_direction=desc&limit=100",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"rooms",
						"prefix",
						"{{room_prefix}}",
						"messages"
					],
					"query": [
						{
							"key": "only_ai",
							"value": "true",
							"description": "Get only AI messages (is_ai_message=true)"
						},
						{
							"key": "order_by",
							"value": "timestamp",
							"description": "Order by timestamp"
						},
						{
							"key": "order_direction",
							"value": "desc",
							"description": "Newest AI messages first"
						},
						{
							"key": "limit",
							"value": "100",
							"description": "Get up to 100 AI messages"
						}
					]
				},
				"description": "Get only AI-generated messages from rooms that start with a specific prefix"
			},
			"response": []
		},
		{
			"name": "Get Study5Personal AI Messages (Example)",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/rooms/prefix/study5personal/messages?only_ai=true&group_by_room=true&order_by=timestamp&order_direction=desc&limit=50",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"rooms",
						"prefix",
						"study5personal",
						"messages"
					],
					"query": [
						{
							"key": "only_ai",
							"value": "true",
							"description": "Get only AI messages (is_ai_message=true)"
						},
						{
							"key": "group_by_room",
							"value": "true",
							"description": "Group AI messages by room ID"
						},
						{
							"key": "order_by",
							"value": "timestamp",
							"description": "Order by timestamp within each room"
						},
						{
							"key": "order_direction",
							"value": "desc",
							"description": "Newest AI messages first"
						},
						{
							"key": "limit",
							"value": "50",
							"description": "Get up to 50 AI messages per room"
						}
					]
				},
				"description": "Example: Get only AI messages from study5personal rooms, grouped by room ID"
			},
			"response": []
		},
		{
			"name": "Get Messages (Selected Fields Only)",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/rooms/{{room_id}}/messages?fields=content,timestamp,user_id,ai_trigger_type&limit=50",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"rooms",
						"{{room_id}}",
						"messages"
					],
					"query": [
						{
							"key": "fields",
							"value": "content,timestamp,user_id,ai_trigger_type",
							"description": "Comma-separated list of fields to return"
						},
						{
							"key": "limit",
							"value": "50",
							"description": "Number of messages to return"
						}
					]
				},
				"description": "Get only specific fields from messages (content, timestamp, user_id, ai_trigger_type)"
			},
			"response": []
		},
		{
			"name": "Get Study5Personal Messages (Selected Fields)",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/rooms/prefix/study5personal/messages?fields=content,timestamp,user_id,ai_trigger_type&order_by=timestamp&order_direction=desc&limit=100",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"rooms",
						"prefix",
						"study5personal",
						"messages"
					],
					"query": [
						{
							"key": "fields",
							"value": "content,timestamp,user_id,ai_trigger_type",
							"description": "Only return these specific fields"
						},
						{
							"key": "order_by",
							"value": "timestamp",
							"description": "Order by timestamp"
						},
						{
							"key": "order_direction",
							"value": "desc",
							"description": "Newest messages first"
						},
						{
							"key": "limit",
							"value": "100",
							"description": "Get up to 100 messages"
						}
					]
				},
				"description": "Get study5personal messages with only content, timestamp, user_id, and ai_trigger_type fields"
			},
			"response": []
		},
		{
			"name": "Get Study5Personal AI Messages (Minimal Fields)",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/rooms/prefix/study5personal/messages?only_ai=true&fields=content,timestamp,user_id,ai_trigger_type&order_by=timestamp&order_direction=desc&limit=100",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"rooms",
						"prefix",
						"study5personal",
						"messages"
					],
					"query": [
						{
							"key": "only_ai",
							"value": "true",
							"description": "Get only AI messages"
						},
						{
							"key": "fields",
							"value": "content,timestamp,user_id,ai_trigger_type",
							"description": "Only return these specific fields"
						},
						{
							"key": "order_by",
							"value": "timestamp",
							"description": "Order by timestamp"
						},
						{
							"key": "order_direction",
							"value": "desc",
							"description": "Newest messages first"
						},
						{
							"key": "limit",
							"value": "100",
							"description": "Get up to 100 AI messages"
						}
					]
				},
				"description": "Get only AI messages from study5personal rooms with minimal fields (content, timestamp, user_id, ai_trigger_type)"
			},
			"response": []
		},
		{
			"name": "Get Messages as CSV (by Room Prefix)",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "text/csv",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/rooms/prefix/{{room_prefix}}/messages/csv?fields=timestamp,user_id,ai_trigger_type,content&order_by=timestamp&order_direction=asc&limit=1000",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"rooms",
						"prefix",
						"{{room_prefix}}",
						"messages",
						"csv"
					],
					"query": [
						{
							"key": "fields",
							"value": "timestamp,user_id,ai_trigger_type,content",
							"description": "CSV columns to include"
						},
						{
							"key": "order_by",
							"value": "timestamp",
							"description": "Order by timestamp"
						},
						{
							"key": "order_direction",
							"value": "asc",
							"description": "Oldest first for chronological CSV"
						},
						{
							"key": "limit",
							"value": "1000",
							"description": "Number of messages to export"
						}
					]
				},
				"description": "Export messages as CSV file with specified fields and ordering"
			},
			"response": []
		},
		{
			"name": "Get Study5Personal Messages as CSV (Example)",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "text/csv",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/rooms/prefix/study5personal/messages/csv?fields=timestamp,user_id,ai_trigger_type,content&order_by=timestamp&order_direction=asc&limit=2000",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"rooms",
						"prefix",
						"study5personal",
						"messages",
						"csv"
					],
					"query": [
						{
							"key": "fields",
							"value": "timestamp,user_id,ai_trigger_type,content",
							"description": "Export these specific fields as CSV columns"
						},
						{
							"key": "order_by",
							"value": "timestamp",
							"description": "Order by timestamp chronologically"
						},
						{
							"key": "order_direction",
							"value": "asc",
							"description": "Oldest messages first"
						},
						{
							"key": "limit",
							"value": "2000",
							"description": "Export up to 2000 messages"
						}
					]
				},
				"description": "Export study5personal messages as CSV file with timestamp, user_id, ai_trigger_type, and content columns"
			},
			"response": []
		},
		{
			"name": "Get Study5Personal AI Messages as CSV",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "text/csv",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/rooms/prefix/study5personal/messages/csv?only_ai=true&fields=timestamp,user_id,ai_trigger_type,content&order_by=timestamp&order_direction=asc&limit=1000",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"rooms",
						"prefix",
						"study5personal",
						"messages",
						"csv"
					],
					"query": [
						{
							"key": "only_ai",
							"value": "true",
							"description": "Export only AI messages"
						},
						{
							"key": "fields",
							"value": "timestamp,user_id,ai_trigger_type,content",
							"description": "CSV columns to include"
						},
						{
							"key": "order_by",
							"value": "timestamp",
							"description": "Order by timestamp"
						},
						{
							"key": "order_direction",
							"value": "asc",
							"description": "Chronological order"
						},
						{
							"key": "limit",
							"value": "1000",
							"description": "Export up to 1000 AI messages"
						}
					]
				},
				"description": "Export only AI messages from study5personal rooms as CSV with timestamp, user_id, ai_trigger_type, and content"
			},
			"response": []
		},
		{
			"name": "Health Check",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/health",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"health"
					]
				},
				"description": "Check if the API server is running and healthy"
			},
			"response": []
		},
		{
			"name": "Get Conversation Statistics",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{base_url}}/api/stats/conversation?room_id={{room_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"api",
						"stats",
						"conversation"
					],
					"query": [
						{
							"key": "room_id",
							"value": "{{room_id}}",
							"description": "Room ID to get statistics for"
						}
					]
				},
				"description": "Get conversation statistics for a specific room"
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:5000",
			"type": "string",
			"description": "Base URL for the HHAI API server (change to your deployed URL if needed)"
		},
		{
			"key": "room_id",
			"value": "room_example_123",
			"type": "string",
			"description": "Example room ID - replace with actual room ID from the room list"
		}
	]
}
